<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Extrude polygons for 3D indoor mapping.</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.48.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.48.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoidGVyZXNhMTIzIiwiYSI6ImNqbG9pYmRkMDF0dzczd21xMGJhdW13MGwifQ.8j-oxaf7ba2pVXWcQkjXJg';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v9',
    center: [-87.61694, 41.86625],
    zoom: 15.99,
    pitch: 40,
    bearing: 20
});

map.on('load', function() {
    map.addLayer({
        'id': 'room-extrusion',
        'type': 'fill-extrusion',
        'source': {
            // GeoJSON Data source used in vector tiles, documented at
            // https://gist.github.com/ryanbaumann/a7d970386ce59d11c16278b90dde094d
            'type': 'geojson',
            'data': data
        },
        'paint': {
            // See the Mapbox Style Specification for details on data expressions.
            // https://www.mapbox.com/mapbox-gl-js/style-spec/#expressions

            // Get the fill-extrusion-color from the source 'color' property.
            'fill-extrusion-color': {'property':'bangzhu123',
            "stops": [
                [0, 'pinck'],
                [7, 'blue'],
                [21, 'green'],
                [79, 'yellow'],
                [164, 'red']
                ]
             },
         
         

            // Get fill-extrusion-height from the source 'height' property.
            'fill-extrusion-height':{ 'property':'low income',
            "stops": [
                [0, 0],
                [7, 1000],
                [19, 2000],
                [44, 3000],
                [105, 4000],
                [198, 5000],
                ]
            },
            

            // Get fill-extrusion-base from the source 'base_height' property.
            //'fill-extrusion-base': ['get', 'base_height'],

            // Make extrusions slightly opaque for see through indoor walls.
            'fill-extrusion-opacity': 0.9
        }
    });
});
</script>

</body>
</html>


<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>2016 DNGTS</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='c='https://api.tiles.mapbox.com/mapbox-gl-js/v0.48.0/mapbox-gl.js'></s></script>
    <script src='./'./data.js'></'></script>
    <link href='f='https://api.tiles.mapbox.com/mapbox-gl-js/v0.48.0/mapbox-gl.css' rel rel='stylesheet' />
    <style>
        body { margin:2; padding:0; }
        #map { position:absolute; top:0px; left:0px; bottom:0px; width:100%; }
    </style>
</head>
<body>

<div id='map'></div>
<script>
t>
mapboxgl.accessToken =en = '= 'pk.eyJ1Ijo1IjoibWFkZWxlaW5lam9oYW5zb24iLCJhIjoiY2lzczduYzJ4MDZrODJucGh0Mm1xbmVxNCJ9.i7q4iT8FFgh_y5v4we5UhQ';
var map = new ew mapboxgl.Map({
 ({
    container: 'map', // container id
    style: 'mapbox://styles/mapbox/light-v9', // stylesheet location
    center: [151.004105, -33.813002], // starting position [lng, lat]
    pitch: 45,
    bearing: -17.6,
    zoom: 9 // starting zoom
});
);
map.on('lo('load', function() {
       map.addLayer({
 ({
        "id": "data",
        "type": "fill-extrusion",
        "source": {
        	'type': 'geojson',
        	'data': data
        },
           'paint': {
                'fill-extrusion-color' : {
                    'property': 'p_tot',
                    "stops":[
                    	[0, '#FFB089'],
                        [250, '#E86828'],
                        [436, '#DF2525'],
                        [835, '#831243'],
                        [1160, '#520743'],
                        [2428, '#631A7D'],
                        [10000, '#4A0662']
                    ]
                    
                },
                'fill-extrusion-height' : {
                    'property': 'dngts_tot',
                    "stops":[
                    	[0, 0],
                    	[10, 1000],
                        [20, 2000],
                        [30, 3000],
                        [50, 6000],
                        [200,20000],
                        [380,38000]
                    ]
                },
                 'fill-extrusion-opacity': 0.9
            }
    });
});
</script>

</body>
</html>
